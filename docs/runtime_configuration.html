<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenAssetIO [beta]: Configuring OpenAssetIO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript">
DoxygenAwesomeParagraphLink.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="all-content">
<div id="body-content">
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpenAssetIO [beta]
   </div>
   <div id="projectbrief">An abstract API for generalising interactions between a host application and an asset management system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('runtime_configuration.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Configuring OpenAssetIO </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page covers how to configure OpenAssetIO for a specific end-user working environment.</p>
<h1><a class="anchor" id="runtime_configuration_overview"></a>
Overview</h1>
<div align="center">
<img src="inline_umlgraph_1.png" />
</div>
<p>An OpenAssetIO enabled tool or application is known as a <a class="el" href="glossary.html#host">Host</a> (as it "hosts" the API). Through the use of manager plugins, OpenAssetIO allows the host to communicate with one or more <a class="el" href="glossary.html#asset_management_system">Asset Management Systems</a>, called <a class="el" href="glossary.html#manager">Managers</a>.</p>
<p>This page covers hows to configure OpenAssetIO so that the hosts you use (e.g. <a class="el" href="glossary.html#DCC">DCC tools</a>, applications and other scripts) use a specific manager of your choice to <a class="el" href="glossary.html#glossary_resolve">resolve</a> and potentially <a class="el" href="glossary.html#publish">publish</a> data.</p>
<p>OpenAssetIO itself is usually built into any host that supports it, this means you don't normally need do to anything to ensure the API itself is present. The most common tasks in configuration are:</p>
<ul>
<li>Installing manager plugins and making them available to a host.</li>
<li>Configuring which manager a host should use.</li>
</ul>
<h1><a class="anchor" id="installing_manager_plugins"></a>
Installing Manager plugins</h1>
<dl class="section note"><dt>Note</dt><dd>To aid problem solving, the plugin systems log debug messages when they search for and load plugins.</dd></dl>
<p>OpenAssetIO supports Python, C++, and <a class="el" href="runtime_configuration.html#installing_manager_plugins_hybrid">hybrid</a> plugins.</p>
<p>Typically there will only be a single asset management system in use, with a corresponding plugin(s). However, if there are multiple systems available with their own OpenAssetIO manager plugins, it is safe, and encouraged, to install all of them such that they're discoverable (as described below). For example, some host applications may support multiple managers simultaneously.</p>
<h2><a class="anchor" id="installing_manager_plugins_pip"></a>
Using pip</h2>
<p>Most Python-based plugins should support what is known as <a href="https://packaging.python.org/en/latest/specifications/entry-points/" target="_blank">"entry point" based loading</a>. This means they can be installed using the package installer for Python, and will then be automatically detected.</p>
<p>These plugins are usually published to <a href="https://pypi.org" target="_blank">PyPI</a>, and so are easy to install. Simply use the <code>pip</code> module of the Python installation you wish to make the plugin available to:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;python -m pip install &lt;manager-plugin-package&gt;</div></div><!-- fragment --><p>If the plugin is not published, you may be able to install it from a local checkout of its source code:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;python -m pip install &lt;path/to/src&gt;</div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>Many hosts use their own embedded Python interpreter. You may need to consult the relevant documentation to determine its location, version, <code>sys.path</code> etc. and adjust the invocation of <code>python</code> accordingly, so that the plugin is installed to the correct Python instance.</dd></dl>
<h2><a class="anchor" id="installing_manager_plugins_manual"></a>
Manual installation</h2>
<p>The OpenAssetIO plugin system can also be explicitly configured to look in specific locations. The <a class="el" href="glossary.html#plugin_path_var">$OPENASSETIO_PLUGIN_PATH</a> environment variable can be set to point to one or more directories containing manager plugins.</p>
<p>This is required for C++ plugins, but can be used for Python plugins as well, where entry point discovery (described above) is not available.</p>
<p>It is a standard 'left-most wins' search-path, that uses platform specific delimiters (see <a class="el" href="glossary.html#plugin_path_var">here</a> for more information).</p>
<p>This variable is completely independent from <code>$PYTHONPATH</code>, <code>$LD_LIBRARY_PATH</code>, or any other language/host specific configuration.</p>
<p>This can simplify deployment by allowing a common location to be specified to, for example, service multiple hosts and Python versions (assuming the manager plugins have been suitably coded).</p>
<p>To install a plugin using this approach:</p>
<ul>
<li>Download or otherwise obtain the required manager plugin.</li>
<li>Place this in your chosen location. This can be anywhere on a filesystem that is visible to the hosts that you wish to use.</li>
<li>Set, or extend <a class="el" href="glossary.html#plugin_path_var">$OPENASSETIO_PLUGIN_PATH</a> to include this location.</li>
</ul>
<h2><a class="anchor" id="installing_manager_plugins_hybrid"></a>
Hybrid plugins</h2>
<p>The <a class="el" href="classopenassetio_1_1v1_1_1plugin_system_1_1_hybrid_plugin_system_manager_implementation_factory.html">hybrid plugin system</a> allows multiple plugin systems to be composed. Typically, this means a C++ and a Python plugin system.</p>
<p>This reduces boilerplate for supporting multiple plugin systems simultaneously. It also has the unique ability to compose multiple plugins together, dispatching to the appropriate plugin for a given API request.</p>
<p>The hybrid plugin system should be the default choice for any host that can support both Python and C++ plugins - i.e. any pure Python host or any C++ host with an embedded Python interpreter.</p>
<p>The appropriate plugin for an API request is determined as follows:</p>
<ul>
<li>On construction, the hybrid plugin system is provided with a list of plugin systems to compose (e.g. <a class="el" href="classopenassetio_1_1v1_1_1plugin_system_1_1_cpp_plugin_system_manager_implementation_factory.html">C++</a> and <a class="el" href="namespaceopenassetio_1_1plugin_system_1_1_python_plugin_system_manager_implementation_factory.html">Python</a>). The order of this list establishes a priority order.</li>
<li>When the host requests a plugin with a particular identifier (via a <a class="el" href="runtime_configuration.html#host_default_config">config file</a> or otherwise), any plugin that matches the identifier, from any listed plugin system, is a candidate for API requests.</li>
<li>When a specific API request is made, the highest priority plugin is used that supports the <a class="el" href="classopenassetio_1_1v1_1_1manager_api_1_1_manager_interface.html#a462aeaee0a168c1943ac756e669a6e2c">capability</a> associated with the API method.</li>
</ul>
<p>Note that the OpenAssetIO API is designed to be stateless. By this we mean that all data required to service an API request is provided with every API method invocation. In particular, the <a class="el" href="glossary.html#Context">Context</a> can be used by managers to coordinate higher-level state across API method invocations. This can enable data sharing between multiple constituent plugins of a hybrid plugin, without them requiring an explicit communication channel.</p>
<h1><a class="anchor" id="host_settings"></a>
Host configuration</h1>
<p>In order to make use of OpenAssetIO to manage data, the host needs to know which manager plugin it should use, and any associated settings that plugin many need (e.g. server configuration).</p>
<p>Most hosts should support the OpenAssetIO default configuration mechanism. This simplifies sharing settings between hosts in a centralized fashion.</p>
<p>Advanced hosts with specific workflows may require configuring by other means - please consult the relevant host provided documentation in these cases.</p>
<h2><a class="anchor" id="host_default_config"></a>
The Default Config Mechanism</h2>
<p>You can specify your preferred manager and settings in a simple <a href="https://toml.io/en/" target="_blank">TOML</a> file, and set the <a class="el" href="glossary.html#default_config_var">$OPENASSETIO_DEFAULT_CONFIG</a> to point to this file. Hosts should then use this configuration to setup the API at startup.</p>
<p>The format for manager-specific sections of this file is documented <a class="el" href="classopenassetio_1_1v1_1_1host_api_1_1_manager_factory.html#a8b6c44543faebcb1b441bbf63c064c76">here</a>.</p>
<p>To configure OpenAssetIO using this approach:</p>
<ul>
<li>Create a TOML file with the identifier and any settings in a location of your choosing. This can be anywhere on a filesystem that is visible to the hosts that you wish to use.</li>
<li>Set <a class="el" href="glossary.html#default_config_var">$OPENASSETIO_DEFAULT_CONFIG</a> to point to that file.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Some hosts may provide functionality to override or ignore this configuration.</dd></dl>
<h1><a class="anchor" id="configuration_troubleshooting"></a>
Troubleshooting</h1>
<p>To help diagnose issues, first make sure that debug logging is enabled in your host. You usually do this by adjusting the host's native logging controls, or in some cases you may need to set <a class="el" href="glossary.html#logging_severity_var">$OPENASSETIO_LOGGING_SEVERITY</a> to <code>1</code>.</p>
<h2><a class="anchor" id="pip_plugins_missing"></a>
Pip installed Python plugins not being found</h2>
<ul>
<li>Check any messages logged by the plugin system during startup.</li>
<li>Check with the plugin's documentation that it does support entry point based loading.</li>
<li>Check that the Python interpreter used by your host is the same version as the one used to install via <code>pip</code>.</li>
<li>Check that the appropriate directory is on <code>sys.path</code> in the host's interpreter.</li>
<li>Check that <code>importlib_metadata</code> is available to the host interpreter (a message will be logged during startup if this is missing).</li>
</ul>
<h2><a class="anchor" id="manual_plugins_missing"></a>
Manually installed plugins not being found</h2>
<ul>
<li>Check <a class="el" href="glossary.html#plugin_path_var">$OPENASSETIO_PLUGIN_PATH</a> includes the directory in which the desired plugins reside.</li>
<li>Check any messages logged by the plugin system during startup.</li>
</ul>
<h2><a class="anchor" id="default_config_not_working"></a>
Default config mechanism not working</h2>
<ul>
<li>Check <a class="el" href="glossary.html#default_config_var">$OPENASSETIO_DEFAULT_CONFIG</a> points to the file using a valid path for the operating system in question.</li>
<li>Check the user has read permissions for the file.</li>
<li>Check any messages logged by the manager factory during startup. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
  </ul>
</div>
<hr class="footer"/>
<p id="copyright"><small>Copyright 2013-2023 The Foundry Visionmongers Ltd. OpenAssetIO is released under the <a href="https://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank">Apache 2.0 License</a></small></p>
</div>
</body>
</html>
